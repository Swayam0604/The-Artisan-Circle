{% extends "base.html" %}
{% load static %}

{% block title %}
{{ artist.first_name }} {{ artist.last_name }} · Artisan Circle
{% endblock %}

{% block content %}

<!-- PAGE CONTAINER -->
<section class="max-w-[1400px] mx-auto px-10">

  <!-- TOP: Artist Header -->
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 mt-16">

    <!-- LEFT: Artist Image -->
    <div class="lg:col-span-4">
      {% if artist.profile_image %}
        <img
          src="{{ artist.profile_image.url }}"
          alt="{{ artist.first_name }} {{ artist.last_name }}"
          class="w-full aspect-square object-cover bg-gray-100"
        >
      {% else %}
        <div class="w-full aspect-square bg-gray-200"></div>
      {% endif %}
    </div>

    <!-- CENTER: Artist Info -->
    <div class="lg:col-span-5">
      <h1 class="text-4xl font-light tracking-tight">
        {{ artist.first_name }} {{ artist.last_name }}
      </h1>

      <p class="mt-2 text-2xl text-gray-500">
        {{ artist.location }}{% if artist.birth_year %}, {{ artist.birth_year }}{% endif %}
      </p>

      <p class="mt-6 max-w-xl text-base leading-relaxed text-gray-800">
        {{ artist.bio }}
      </p>

      <a href="#" class="inline-block mt-4 text-sm underline">
        See all past shows and fair booths
      </a>
    </div>

    <!-- RIGHT: Credibility Panels -->
    <aside class="lg:col-span-3 text-sm text-gray-800 space-y-6">

      <div class="border-b pb-4">
        <p class="font-medium">Featured representation</p>
      </div>

      <div class="border-b pb-4">
        <p class="font-medium">Active secondary market</p>
      </div>

      <div class="border-b pb-4">
        <p class="font-medium">Institutional collections</p>
      </div>

    </aside>

  </div>

  <!-- TABS (static for now) -->
  <div class="flex gap-8 mt-20 border-b pb-3 text-sm">
    <span class="font-medium">Artworks</span>
    <span class="text-gray-500">Auction Results</span>
    <span class="text-gray-500">About</span>
  </div>

  <!-- ARTWORKS GRID -->
  <section class="mt-12">

    <h2 class="text-2xl font-medium mb-10">
      Artworks
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-10 gap-y-20">

      {% for artwork in artworks %}
        <div>

          <a href="{% url 'artworks:artwork-detail' artwork.slug %}">

            {% with artwork.images.all|dictsort:"order"|first as img %}
              {% if img %}
                <img
                  src="{{ img.images.url }}"
                  alt="{{ artwork.title }}"
                  class="w-full aspect-[4/5] object-cover bg-gray-100"
                >
              {% else %}
                <div class="w-full aspect-[4/5] bg-gray-200"></div>
              {% endif %}
            {% endwith %}

            <h3 class="mt-4 text-sm">
              {{ artwork.title }}
            </h3>

            {% if artwork.is_for_sale and artwork.price %}
              <p class="mt-1 text-sm font-medium">
                ₹{{ artwork.price }}
              </p>
            {% else %}
              <p class="mt-1 text-sm text-gray-500">
                Not for sale
              </p>
            {% endif %}

          </a>

        </div>
      {% endfor %}

    </div>

  </section>

</section>

{% endblock %}
