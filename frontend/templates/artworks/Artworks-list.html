{% extends "base.html" %}
{% load static %}

{% block title %}Artworks · Artisan Circle{% endblock %}

{% block content %}
<section class="max-w-[1440px] mx-auto px-10">
  <h1 class="text-2xl font-medium mb-12">Artworks</h1>

  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-8 gap-y-16">
    {% for artwork in artworks %}
      <a href="{% url 'artworks:artwork-detail' artwork.slug %}"
         class="group block">

        {% with artwork.images.all|first as img %}
          {% if img %}
            <img
              src="{{ img.images.url }}"
              alt="{{ artwork.title }}"
              class="w-full aspect-[4/5] object-cover bg-gray-100 transition-opacity duration-200 group-hover:opacity-90"
            >
          {% else %}
            <div class="w-full aspect-[4/5] bg-gray-200"></div>
          {% endif %}
        {% endwith %}

        <div class="mt-3 text-sm">
          <p class="font-medium">{{ artwork.title }}</p>
          <p class="text-gray-600">{{ artwork.artist.first_name }} {{ artwork.artist.last_name }}</p>

          {% if artwork.is_for_sale and artwork.price %}
            <p class="mt-1">₹{{ artwork.price }}</p>
          {% else %}
            <p class="mt-1 text-gray-500">Not for sale</p>
          {% endif %}
        </div>

      </a>
    {% endfor %}
  </div>
</section>

{% endblock %}
